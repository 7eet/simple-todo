extends ../layout/layout.pug
block content
  <div class="d-lg-flex" id="tasks">
    <div class="my-5 mx-2 p-3 pt-5 round" id="task">
      if data.length > 0
        h3.text-light Your Tasks&nbsp;&nbsp;#{data.length}
        <div class="d-flex justify-content-end">
          <button data-toggle="collapse" href='#add-task' class="btn btn-warning rounded-pill">
            <svg width="1.3em" height="1.3em" viewBox="0 0 16 16" class="bi bi-plus" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
              <path fill-rule="evenodd" d="M8 3.5a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5H4a.5.5 0 0 1 0-1h3.5V4a.5.5 0 0 1 .5-.5z"/>
              <path fill-rule="evenodd" d="M7.5 8a.5.5 0 0 1 .5-.5h4a.5.5 0 0 1 0 1H8.5V12a.5.5 0 0 1-1 0V8z"/>
            </svg>
          </button>
        </div>
        +addForm("add-task","/")
        each item in data
          div.card.my-3.round.mine-bg
              div(class="card-body",data-toggle="tooltip",data-placement="top",title=`${item.tTitle}`)
                h5.card-title #{item.tTitle}
                p.card-text.font-italic #{item.tDescription}
              div.card-text.pt-4.pb-1
                <form method="post">
                  div.d-flex.justify-content-around
                    <button type="submit" formaction='/progress/#{item.id}' class="btn btn-warning rounded-pill"  data-toggle="tooltip" data-placement="top" title="in-progress">
                      <svg width="1.3em" height="1.3em" viewBox="0 0 16 16" class="bi bi-hourglass-split" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                        <path fill-rule="evenodd" d="M2.5 15a.5.5 0 1 1 0-1h1v-1a4.5 4.5 0 0 1 2.557-4.06c.29-.139.443-.377.443-.59v-.7c0-.213-.154-.451-.443-.59A4.5 4.5 0 0 1 3.5 3V2h-1a.5.5 0 0 1 0-1h11a.5.5 0 0 1 0 1h-1v1a4.5 4.5 0 0 1-2.557 4.06c-.29.139-.443.377-.443.59v.7c0 .213.154.451.443.59A4.5 4.5 0 0 1 12.5 13v1h1a.5.5 0 0 1 0 1h-11zm2-13v1c0 .537.12 1.045.337 1.5h6.326c.216-.455.337-.963.337-1.5V2h-7zm3 6.35c0 .701-.478 1.236-1.011 1.492A3.5 3.5 0 0 0 4.5 13s.866-1.299 3-1.48V8.35zm1 0c0 .701.478 1.236 1.011 1.492A3.5 3.5 0 0 1 11.5 13s-.866-1.299-3-1.48V8.35z"/>
                      </svg>
                    </button>
                    <button type="submit" formaction='/completed/#{item.id}' class="btn btn-warning rounded-pill"  data-toggle="tooltip" data-placement="top" title="completed">
                      <svg width="1.3em" height="1.3em" viewBox="0 0 16 16" class="bi bi-check2" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                        <path fill-rule="evenodd" d="M13.854 3.646a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 1 1 .708-.708L6.5 10.293l6.646-6.647a.5.5 0 0 1 .708 0z"/>
                      </svg>
                    </button>
                    <button type="submit" formaction='/delete/#{item.id}' class="btn btn-warning rounded-pill"  data-toggle="tooltip" data-placement="top" title="delete">
                      <svg width="1.3em" height="1.3em" viewBox="0 0 16 16" class="bi bi-x" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                        <path fill-rule="evenodd" d="M11.854 4.146a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708-.708l7-7a.5.5 0 0 1 .708 0z"/>
                        <path fill-rule="evenodd" d="M4.146 4.146a.5.5 0 0 0 0 .708l7 7a.5.5 0 0 0 .708-.708l-7-7a.5.5 0 0 0-.708 0z"/>
                      </svg>
                    </button>
                </form>
      else 
        <div>
          h3.text-light List of tasks
          <div class="d-flex justify-content-end">
            <button data-toggle="collapse" href='#add-task' class="btn btn-warning rounded-pill">
              <svg width="1.3em" height="1.3em" viewBox="0 0 16 16" class="bi bi-plus" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                <path fill-rule="evenodd" d="M8 3.5a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5H4a.5.5 0 0 1 0-1h3.5V4a.5.5 0 0 1 .5-.5z"/>
                <path fill-rule="evenodd" d="M7.5 8a.5.5 0 0 1 .5-.5h4a.5.5 0 0 1 0 1H8.5V12a.5.5 0 0 1-1 0V8z"/>
              </svg>
            </button>
          </div>
          +addForm("add-task","/")
          h5.text-light.mt-5 No tasks
        </div>
    </div>

    include ./in-progress.pug

    include ./completed.pug
  </div>
