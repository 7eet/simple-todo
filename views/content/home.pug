extends ../layout/layout.pug
block content
  <div id="create-task" class="my-3 py-2">
    <a href="#add-task" data-toggle="collapse" class="btn btn-dark">
      |add task
    </a>
  </div>

  <div id="add-task" class="collapse p-2">
    <form method="post" action="/" class="p-3">
      <div class="form-group form-row my-3" id="title">
        <label for="tTitle">Title</label>
        <input type="text" id="tTitle" class="form-control" name="tTitle" required>
      </div>
      <div class="form-group form-row my-3" id="description">
        <label for="tDescription">Short Description</label>
        <textarea id="tDescription" class="form-control" name="tDescription" rows="3" cols="5">
        </textarea>
      </div>
      <div class="form-group my-3">
        <button class="btn btn-primary" type="submit">add it</button>
      </div>
    </form>
  </div>


  if data.length > 0
    <div class="list">
      <ul class="list-group">
        each item in data
          - if (item.status == "completed")
              li.list-group-item.my-2.border.round.text-muted
                h4 #{item.tTitle}
                p #{item.tDescription}
                <div class="row justify-content-around my-3 px-4">
                  p.text-muted status: #{item.status}
                  <a href='/delete/#{item.id}' class="btn btn-warning rounded">delete</a>
                </div>
          - else
              li.list-group-item.my-2.border.round
                h4 #{item.tTitle}
                p #{item.tDescription}
                <div class="row justify-content-between my-3">
                  p.text-muted status: #{item.status}
                  <a href='/completed/#{item.id}' class="btn btn-warning rounded">completed</a>
                </div>
      </ul>
    </div>
  else 
    <div class="my-3">
      h3.text-muted You have 0 tasks.
    </div>

  script
    include ../script.js